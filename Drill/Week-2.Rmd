
```{r include=FALSE}
require(mosaic)
require(dplyr)
require(ggplot2)
require(tidyr)
require(ScoreR)
startProblem("DCF-Assignment2")
```

```{r child="../CSS/DCF-common.Rmd"}
```

<!--- Control the display of answers -->
<style>
  aside.answer {color:white; background-color:blue; display:none;}
</style>

## Week 2 Drill


### Problem 1

The graphic below presents forecasts for the US Senate elections in Nov. 2014. The numbers or words give the forecast probability of one party's candidate --- Democrat or Republican --- winning. The forecasts are made based on polls up through the end of August 2014. Individual results from several different polling organization are shown. The graphic is an excerpt from the [full graphic](http://www.nytimes.com/newsgraphics/2014/senate-model/comparisons.html), which shows predictions for all 36 senate seats up for election in 2014.   Source: [New York Times](http://www.nytimes.com/newsgraphics/2014/senate-model/comparisons.html)

![Forecast probabilities of the outcomes of US Senate elections for 2014.](Images/SenateForecast.png)

#### 1. 

What variables define the frame in this graphic?


`r f = newMC(totalPts=5,name="senateFrame")` 
`r I(f(FALSE))` Probability and State.
`r I(f(TRUE))`  State and Polling Organization.
`r I(f(FALSE))` Democrats and Republicans. 
`r I(f(FALSE))` Just State
`r I(f(FALSE))` Just Probability
`r I(f(finish=TRUE))`

<aside class="answer">
The vertical position represents the state.  The horizontal position reflects the polling organization.
</answer> 

#### 2. 

What is the glyph and its graphical attributes?

`r f = newMC(totalPts=5,name="senateGlyph")` 
`r I(f(FALSE))` Glyph: names of the states. Graphical attribute: font.
`r I(f(TRUE))`  Glyph: names of the polling organization. Graphical attribute: the organization's logo.
`r I(f(FALSE))` Glyph: Rectangle. Graphical attribute: color.
`r I(f(FALSE))` Glyph: Rectangle. Graphical attribute: color and text.
`r I(f(finish=TRUE))`

#### 3. 

Which of these is a guide for the indicated graphical attribute? (Select all that apply.)

* `r selectSet(name="senateGuideState", totalPts=1, "TRUE"=TRUE, "FALSE"=FALSE)` Vertical scale: Name of state.
* `r selectSet(name="senateGuideCandidate", totalPts=1, "TRUE"=FALSE, "FALSE"=TRUE)` Vertical scale: Name of candidate.
* `r selectSet(name="senateGuidePollV", totalPts=1, "TRUE"=FALSE, "FALSE"=TRUE)` Vertical scale: Name of polling organization.
* `r selectSet(name="senateGuideColor1", totalPts=1, "TRUE"=FALSE, "FALSE"=TRUE)` Vertical scale: color band.
* `r selectSet(name="senateGuideColor2", totalPts=2, "TRUE"=TRUE, "FALSE"=FALSE)` Color: color band.


#### 4. 

What sets the order of the categorical variable in the scale for the vertical variable?

`r selectSet(name="senateOrder",totalPts=4,
    "State"=FALSE,
    "Poll"=FALSE,
    "Roth poll probability for the Democratic candidate."=FALSE,
    "NYT poll probability for the Democratic candidate."=TRUE,
    "Date of the poll."=FALSE)`


### Problem 2

For each of these computations, say what R function is the most appropriate:


1. Count the number of cases in a data table. <aside class="answer">`nrow()`</aside>
#. List the names of the variables in a data table. <aside class="answer">`names()`</aside>
#. For data tables in an R package, display the documentation ("codebook") for the data table.<aside class="answer">`help()`</aside>
#. Load a package into your R session.<aside class="answer">`library()`</aside>
#. Mark a data table as grouped by one or more categorical variables.<aside class="answer">`group_by()`</aside>
#. Add up, group-by-group, a quantitative variable in a data table. <aside class="answer">`summarize()`</aside>

###. Problem 3

The data verb functions all take a data table as their first argument and return a data table as their output (The "output" is often called the "value" of the function.)  HOWEVER, the chaining syntax let's the output of one function become the input to the following function, so you don't have to repeat the name of the data frame.  An alternative syntax is to assign the output of one function to a named object, then use the object as the first argument to the next function in the computation.

Each of these statements, but one, will accomplish the same calculation.  Identify the statement that does not match the others.

##### a. 

```{r eval=FALSE}
BabyNames %>% 
  group_by( year, sex ) %>% 
  summarise( totalBirths=sum(count))
```

##### b. 

```{r eval=FALSE}
group_by( BabyNames, year, sex) %>% 
  summarise( totalBirths=sum(count) )
```

##### c.

```{r}
group_by( BabyNames, year, sex ) %>%
  summarise( totalBirths=mean(count) )
```

##### d. 

```{r eval=FALSE}
Tmp <- group_by(BabyNames, year, sex) 
summarise( Tmp, totalBirths=sum(count) )
```

<aside class="answer">
Statement (c) is different.  Rather than calculating the total number of births (using `sum()`), it finds the mean number of births across all the cases in each year/sex group.  
</aside>


### Problem 4

Spot the error(s) in these expressions:

##### a.

```{r eval=FALSE}
BabyNames %>% 
  group_by(BabyNames, year, sex) %>%
  summarize(BabyNames, total=sum(count) )
```

##### b.

```{r eval=FALSE}
ZipGeography <- 
  group_by( State ) %>% 
  summarize( pop=sum(Population) )
```

##### c.

```{r eval=FALSE}
Minneapolis2013 %>%
  group_by( First ) ->
  summarize( voteReceived=n() )
```

##### d.

```{r eval=FALSE}
summarize( votesReceived=n() ) %<% 
  group_by( First ) <- 
  Minneapolis2013
```

##### e.

```{r eval=FALSE}
BabyNames %>% 
  group_by( "First" ) %>%
  summarise( votesReceived=n() )
```

##### f. 

```{r eval=FALSE}
Tmp <- group_by(BabyNames, year, sex ) %>% 
  summarise( Tmp, totalBirths=sum(count))
```

##### g.

```{r eval=FALSE}
Tmp <- group_by(BabyNames, year, sex) 
summarise( BabyNames, totalBirths=sum(count) )
```

`r I(endProblem())`




```{r child="../CSS/DisqusTemplate.Rmd"}
```

